version: 1.0
runtime: docker
build:
  commands:
    build:
      - echo "Building Task Management App"
      - cd backend && mvn clean package -DskipTests
      - docker build -t task-management-app .
run:
  runtime-version: latest
  command: docker run -p 8080:8080 task-management-app
  network:
    port: 8080
    env: PORT
  env:
    - name: PORT
      value: "8080"